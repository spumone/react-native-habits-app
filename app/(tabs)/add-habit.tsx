import { DATABASE_ID, databases, HABITS_COLLECTION_ID } from "@/lib/appwrite";nimport { useAuth } from "@/lib/auth-context";nimport { router } from "expo-router";nimport { useState } from "react";nimport { StyleSheet, Text, View } from "react-native";nimport { ID } from "react-native-appwrite";nimport { Button, SegmentedButtons, TextInput, useTheme } from "react-native-paper";nnconst FREQUENCIES = ["daily", "weekly", "monthly"];ntype Frequency = (typeof FREQUENCIES)[number];nnexport default function AddHabitScreen() {nn    const [title, setTitle] = useState("");n    const [description, setDescription] = useState("");n    const [frequency, setFrequency] = useState<Frequency>("daily");n    const { user } = useAuth();n    const [error, setError] = useState<string | null>(null);n    const theme = useTheme();nn    const handleSubmit = async () => {n        if (!user) return;n        try {n            await databases.createDocument(n                DATABASE_ID,n                HABITS_COLLECTION_ID,n                ID.unique(),n                {n                    user_id: user.$id,n                    title,n                    description,n                    frequency,n                    streak_count: 0,n                    last_completed: new Date().toISOString(),n                    created_at: new Date().toISOString(),n                }n            );n            router.back();n        } catch (error) {n            console.error("Error creating habit:", error);n            if (error instanceof Error) {n                setError(error.message);n            }n        }n    }nn  return (n    <View style={styles.container}>n      <TextInputn        label="Title"n        mode="outlined"n        style={styles.input}n        onChangeText={setTitle}n      />nn    <TextInputn        label="Description"n        mode="outlined"n        style={styles.input}n        onChangeText={setDescription}n      />n      n      <View style={styles.frequencyContainer}>n        <SegmentedButtonsn            value={frequency}n            buttons={FREQUENCIES.map((freq) => ({n                value: freq,n                label: freq.charAt(0).toUpperCase() + freq.slice(1),n            }))}n            onValueChange={(value) => setFrequency(value as Frequency)}n            />n      </View>nn      <Buttonn        onPress={() => handleSubmit()}n        mode="contained"n        icon="plus"n        disabled={!title || !description}n        >n            Add Habitn        </Button>n        n        {error && <Text style={{color: theme.colors.error}}>{error}</Text>}nn    </View>n  );n}nnnnnnconst styles = StyleSheet.create({n  n  container: {n    flex: 1,n    padding: 16,n    backgroundColor: "#f5f5f5",n    justifyContent: "center",n  },nn  input: {n    marginBottom: 16,n  },nn  frequencyContainer: {n    marginBottom: 24,n  },nn});